!function(){var e={344:function(){!function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(r){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(e in n)if(n[e].src==t||"interactive"==n[e].readyState)return n[e];return null}}})}(document)},264:function(e,t,n){!function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}(),n=function(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n},r=function(e){return encodeURIComponent(e).replace(/%20/g,"+")},i=function(e){return decodeURIComponent(String(e).replace(/\+/g," "))};(function(){try{var t=e.URLSearchParams;return"a=1"===new t("?a=1").toString()&&"function"==typeof t.prototype.set&&"function"==typeof t.prototype.entries}catch(e){return!1}})()||function(){var i=function(e){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var t=typeof e;if("undefined"===t);else if("string"===t)""!==e&&this._fromString(e);else if(e instanceof i){var n=this;e.forEach((function(e,t){n.append(t,e)}))}else{if(null===e||"object"!==t)throw new TypeError("Unsupported input's type for URLSearchParams");if("[object Array]"===Object.prototype.toString.call(e))for(var r=0;r<e.length;r++){var o=e[r];if("[object Array]"!==Object.prototype.toString.call(o)&&2===o.length)throw new TypeError("Expected [string, any] as entry at index "+r+" of URLSearchParams's input");this.append(o[0],o[1])}else for(var a in e)e.hasOwnProperty(a)&&this.append(a,e[a])}},o=i.prototype;o.append=function(e,t){e in this._entries?this._entries[e].push(String(t)):this._entries[e]=[String(t)]},o.delete=function(e){delete this._entries[e]},o.get=function(e){return e in this._entries?this._entries[e][0]:null},o.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},o.has=function(e){return e in this._entries},o.set=function(e,t){this._entries[e]=[String(t)]},o.forEach=function(e,t){var n;for(var r in this._entries)if(this._entries.hasOwnProperty(r)){n=this._entries[r];for(var i=0;i<n.length;i++)e.call(t,n[i],r,this)}},o.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),n(e)},o.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),n(e)},o.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),n(e)},t&&(o[Symbol.iterator]=o.entries),o.toString=function(){var e=[];return this.forEach((function(t,n){e.push(r(n)+"="+r(t))})),e.join("&")},e.URLSearchParams=i}();var o=e.URLSearchParams.prototype;"function"!=typeof o.sort&&(o.sort=function(){var e=this,t=[];this.forEach((function(n,r){t.push([r,n]),e._entries||e.delete(r)})),t.sort((function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0})),e._entries&&(e._entries={});for(var n=0;n<t.length;n++)this.append(t[n][0],t[n][1])}),"function"!=typeof o._fromString&&Object.defineProperty(o,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(e){if(this._entries)this._entries={};else{var t=[];this.forEach((function(e,n){t.push(n)}));for(var n=0;n<t.length;n++)this.delete(t[n])}var r,o=(e=e.replace(/^\?/,"")).split("&");for(n=0;n<o.length;n++)r=o[n].split("="),this.append(i(r[0]),r.length>1?i(r[1]):"")}})}(void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(e){if(function(){try{var t=new e.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href&&t.searchParams}catch(e){return!1}}()||function(){var t=e.URL,n=function(t,n){"string"!=typeof t&&(t=String(t)),n&&"string"!=typeof n&&(n=String(n));var r,i=document;if(n&&(void 0===e.location||n!==e.location.href)){n=n.toLowerCase(),(r=(i=document.implementation.createHTMLDocument("")).createElement("base")).href=n,i.head.appendChild(r);try{if(0!==r.href.indexOf(n))throw new Error(r.href)}catch(e){throw new Error("URL unable to set base "+n+" due to "+e)}}var o=i.createElement("a");o.href=t,r&&(i.body.appendChild(o),o.href=o.href);var a=i.createElement("input");if(a.type="url",a.value=t,":"===o.protocol||!/:/.test(o.href)||!a.checkValidity()&&!n)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:o});var c=new e.URLSearchParams(this.search),u=!0,s=!0,p=this;["append","delete","set"].forEach((function(e){var t=c[e];c[e]=function(){t.apply(c,arguments),u&&(s=!1,p.search=c.toString(),s=!0)}})),Object.defineProperty(this,"searchParams",{value:c,enumerable:!0});var d=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==d&&(d=this.search,s&&(u=!1,this.searchParams._fromString(this.search),u=!0))}})},r=n.prototype;["hash","host","hostname","port","protocol"].forEach((function(e){!function(e){Object.defineProperty(r,e,{get:function(){return this._anchorElement[e]},set:function(t){this._anchorElement[e]=t},enumerable:!0})}(e)})),Object.defineProperty(r,"search",{get:function(){return this._anchorElement.search},set:function(e){this._anchorElement.search=e,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(r,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(e){this._anchorElement.href=e,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],t=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(t?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(e){},enumerable:!0},username:{get:function(){return""},set:function(e){},enumerable:!0}}),n.createObjectURL=function(e){return t.createObjectURL.apply(t,arguments)},n.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,arguments)},e.URL=n}(),void 0!==e.location&&!("origin"in e.location)){var t=function(){return e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")};try{Object.defineProperty(e.location,"origin",{get:t,enumerable:!0})}catch(n){setInterval((function(){e.location.origin=t()}),100)}}}(void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),function(){"use strict";n(344),n(264);var e,t=function(e,t,n){var r={value:t,expiry:(new Date).getTime()+60*n*1e3};localStorage.setItem(e,JSON.stringify(r))},r=function(e){var t=localStorage.getItem(e);if(!t)return null;try{var n=JSON.parse(t);return(new Date).getTime()>n.expiry?(localStorage.removeItem(e),null):n.value}catch(e){}return null},i=new Uint8Array(16);function o(){if(!e&&!(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(i)}for(var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,c=function(e){return"string"==typeof e&&a.test(e)},u=[],s=0;s<256;++s)u.push((s+256).toString(16).substr(1));var p,d=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n}(r)},l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)},v="hrvBeacon_a",f=525600;function h(){return d()}function m(e){var n,r=g(),i=null==r?void 0:r.properties;if(e&&"function"==typeof e)try{n=e(i)}catch(e){}else n=l(l({},i),e);r.properties=n,t(v,p=r,f)}function g(){return p||((p=r(v))&&p.id||(p={id:h()}),t(v,p,f),p)}var y,_="hrvBeacon_s";function b(e){var n=w();if(n){n.events||(n.events=[]);var r=n.events.find((function(t){return t.event==e}));r||(n.events.push({event:e,state:y.track}),t(_,n,30))}}function w(){var e,n,i=r(_),o=!1;if(e=null==i?void 0:i.campaign,!(n=k())||(null==e?void 0:e.utm_source)===(null==n?void 0:n.utm_source)&&(null==e?void 0:e.utm_medium)===(null==n?void 0:n.utm_medium)&&(null==e?void 0:e.utm_campaign)===(null==n?void 0:n.utm_campaign)&&(null==e?void 0:e.utm_term)===(null==n?void 0:n.utm_term)&&(null==e?void 0:e.utm_content)===(null==n?void 0:n.utm_content)||(o=!0),(!i||o)&&(i={sessionId:h(),campaign:k()},o=!0),o){var a={event:"startSession",state:y.track};i.events?i.events.push(a):i.events=[a]}return t(_,i,30),i}function k(){var e=new URLSearchParams(window.location.search),t=e.get("utm_source"),n=e.get("utm_medium"),r=e.get("utm_campaign"),i=e.get("utm_term"),o=e.get("utm_content");if(t||n||r||i||o)return{utm_source:t,utm_medium:n,utm_campaign:r,utm_term:i,utm_content:o}}function S(e,t){if(e.AutoTrack&&e.ga4){var n=window.gtag;if(n||e.enhancedEcommercev4){var r=function(e,t){i(e),function(e,t){var r;void 0===t&&(t="add_to_cart");var i=e.properties;e.coupon&&(i.coupon=e.coupon),n("event",t,{currency:(null==i?void 0:i.currency)||"",coupon:(null==i?void 0:i.coupon)||0,items:[{item_id:(null==i?void 0:i.sku)||(null===(r=null==i?void 0:i.variantId)||void 0===r?void 0:r.toString())||(null==i?void 0:i.id.toString())||"",item_name:(null==i?void 0:i.name)||(null==i?void 0:i.title)||"",affiliation:"",coupon:"",item_variant:(null==i?void 0:i.variant)||"",location_id:"",price:(null==i?void 0:i.price)||0,quantity:(null==i?void 0:i.quantity)||0,currency:(null==i?void 0:i.currency)||0}]})}(e,t),a(e)};"product"==t.pageType?function(e){r(e,"view_item")}(t):"ajaxCart"==t.pageType?function(e){r(e)}(t):"ajaxUpdateCart"==t.pageType?function(e){r(e,"remove_from_cart")}(t):"checkout"==t.pageType?t.properties.cartToken?o(t):function(e){var t,r=e.products,o=e.properties;i(e);for(var c=[],u=0;u<r.length;u++){var s=r[u];c.push({index:u,item_id:(null==s?void 0:s.sku)||(null===(t=null==s?void 0:s.variantId)||void 0===t?void 0:t.toString())||(null==s?void 0:s.id.toString())||"",item_name:(null==s?void 0:s.name)||"",affiliation:"",coupon:"",item_variant:(null==s?void 0:s.variant)||"",location_id:"",price:(null==s?void 0:s.price)||0,quantity:(null==s?void 0:s.quantity)||0,currency:(null==s?void 0:s.currency)||""})}n("event","begin_checkout",{currency:(null==o?void 0:o.currency)||"",value:(null==o?void 0:o.total_price)||0,coupon:(null==o?void 0:o.coupon)||"",items:c}),a(e)}(t):"thankyou"==t.pageType&&(t.properties.cartToken?o(t):function(e){var t,r,o,c,u,s,p,d,l,v,f,h=e.properties,m=((null===(t=null==h?void 0:h.total_price)||void 0===t?void 0:t.toString())||null===(r=null==h?void 0:h.subtotal_price)||void 0===r||r.toString(),(null===(o=null==h?void 0:h.orderId)||void 0===o?void 0:o.toString())||""),g=(null==e?void 0:e.products)||[];if(m){i(e);for(var y=[],_=0;_<g.length;_++){var b={item_id:(null===(c=g[_])||void 0===c?void 0:c.sku)||(null===(s=null===(u=g[_])||void 0===u?void 0:u.variantId)||void 0===s?void 0:s.toString())||(null===(p=g[_])||void 0===p?void 0:p.id.toString())||"",item_name:null===(d=g[_])||void 0===d?void 0:d.name,affiliation:"",coupon:"",index:_,item_variant:(null===(l=g[_])||void 0===l?void 0:l.variant)||"",price:(null===(v=g[_])||void 0===v?void 0:v.price)||0,quantity:(null===(f=g[_])||void 0===f?void 0:f.quantity)||0};y.push(b)}n("event","purchase",{value:(null==h?void 0:h.total_price)||0,currency:(null==h?void 0:h.currency)||"",transaction_id:m,tax:"",shipping:((null==h?void 0:h.shipping)||"").toString(),coupon:(null==h?void 0:h.coupon)||"",items:y}),a(e)}}(t))}}function i(e){e.options_GA.enhancedEcommerceLoaded||n("set","ec"),n("set","&cu",e.properties.currency)}function o(e){var t=e.properties,r={eventAction:t.event,eventCategory:t.category||"All",eventLabel:t.label,eventValue:t.total_price.toString(),nonInteraction:!0};n("event","send",r)}function a(e){var t=e.properties;n("event","send",{eventCategory:t.category||"EnhancedEcommerce",eventAction:t.event,eventLabel:t.label,nonInteraction:!0})}}function E(e,t){if(e.AutoTrack&&e.ga){var n=window.ga;(n||e.enhancedEcommerce)&&("product"==t.pageType?function(e){var t=e.properties;r(e),c(t,"detail"),a(e)}(t):"ajaxCart"==t.pageType?function(e){var t=e.properties;r(e),c(t,"add"),a(e)}(t):"ajaxUpdateCart"==t.pageType?function(e){var t=e.properties;r(e),c(t,"remove"),a(e)}(t):"checkout"==t.pageType?t.properties.cartToken?i(t):function(e){var t=e.products;r(e);for(var i=0;i<e.products.length;i++)o(t[i]);n("ec:setAction","checkout",{step:1}),a(e)}(t):"thankyou"==t.pageType&&(t.properties.cartToken?i(t):function(e){var t=e.properties,i=t.total_price.toString()||t.subtotal_price.toString()||"",c=t.orderId.toString(),u=e.products||[];if(c){r(e);for(var s=0;s<u.length;s++)o(u[s]);n("ec:setAction","purchase",{id:c,affiliation:void 0,revenue:i,tax:"",shipping:t.shipping.toString(),coupon:t.coupon}),a(e)}}(t)))}function r(e){var t=e.options_GA;t.enhancedEcommerceLoaded||(n("require","ec"),t.enhancedEcommerceLoaded=!0),n("set","&cu",e.properties.currency)}function i(e){var t=e.properties,r={eventAction:t.event,eventCategory:t.category||"All",eventLabel:t.label,eventValue:t.total_price.toString(),nonInteraction:!0};n("send","event",r)}function o(e){var t={id:e.sku||e.variantId.toString()||e.id.toString(),name:e.name,category:"",quantity:e.quantity,price:e.price.toString(),vendor:e.vendor,variant:e.variant,currency:e.currency};e.coupon&&(t.coupon=e.coupon),n("ec:addProduct",t)}function a(e){var t=e.properties;n("send","event",{eventCategory:t.category||"EnhancedEcommerce",eventAction:t.event,eventLabel:t.label,nonInteraction:!0})}function c(e,t){o(e),n("ec:setAction",t)}}function T(e,t){if(e.AutoTrack&&e.fb){var n=window.fbq;n&&t&&n("track","AddToCart",{content_ids:[t.properties.id],content_name:t.properties.name,content_type:"product_group",value:t.properties.price,num_items:t.properties.quantity,currency:t.properties.currency})}}function A(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent&&e.attachEvent("on"+t,n)}!function(e){e[e.track=0]="track",e[e.sent=1]="sent"}(y||(y={}));var I,L=window,C=L.HaravanAnalytics,P={pageType:"",products:[],properties:{arrProductId:"",id:"",variantId:"",name:"",variant:"",category:"",quantity:1,price:0,sku:"",vendor:"",type:"",keySearch:"",coupon:"",orderId:"",shipping:0,subtotal_price:0,total_price:0,cartToken:!1,event:"Action not defined!",currency:null===(I=null==C?void 0:C.meta)||void 0===I?void 0:I.currency},carts:{attributes:{},customer_id:null,items:null,item_count:0,location_id:0,note:"",requires_shipping:!1,total_price:0,total_weight:0},options_GA:{anonymizeIp:!1,doubleClick:!0,enhancedEcommerceLoaded:!1,enhancedEcommerce:(null==C?void 0:C.enhancedEcommerce)||!1,enhancedEcommercev4:(null==C?void 0:C.enhancedEcommercev4)||!1,enhancedLinkAttribution:!1,includeSearch:!0,nonInteraction:!1}};function O(e){C&&function(e){var n,i,o,a,c=C.meta.page.pageType;if(c){if(P.pageType=c,"thankyou"==P.pageType)e.userId=null===(i=null===(n=L.Haravan)||void 0===n?void 0:n.checkout)||void 0===i?void 0:i.customer_id;else{var u=null===(a=null===(o=C.meta)||void 0===o?void 0:o.page)||void 0===a?void 0:a.customerId;e.userId=u}var s=new URLSearchParams(window.location.search).get("ref_f4l");switch(s&&m({ref_f4l:s}),P.pageType){case"cart":break;case"product":!function(e,t,n){var r=t.meta.product;if(r){n.properties.id=r.id,r.selected_or_first_available_variant?(n.properties.name=r.selected_or_first_available_variant.title,n.properties.variantId=r.selected_or_first_available_variant.id,n.properties.variant=r.selected_or_first_available_variant.variant_title,n.properties.price=r.selected_or_first_available_variant.price/100,n.properties.sku=r.selected_or_first_available_variant.sku):(n.properties.title=r.title,n.properties.price=r.price/100,n.properties.variant="Default Title"),n.properties.vendor=r.vendor,n.properties.type=r.type,n.properties.event="Viewed Product";var i={product:t.meta.product};e.send("ViewProduct",i)}}(e,C,P);break;case"searchresults":!function(e,t,n){var r=t.meta.search;if(r){n.properties.keySearch=r.query;var i={search:t.meta.search};e.send("Search",i)}}(e,C,P);break;case"thankyou":!function(e,n,i){var o,a=window.Haravan;if(a&&a.checkout){var c=a.checkout,u=[],s=0;c.line_items.forEach((function(e){var t={id:e.product_id,variantId:e.variant_id,name:e.title,variant:e.variant_title,category:"",quantity:e.quantity,price:e.price,sku:e.sku,vendor:e.vendor,type:"",currency:n.meta.currency};i.products.push(t),0==u.includes(e.product_id)&&u.push(e.product_id),s+=e.quantity})),i.properties.arrProductId=u,i.properties.coupon=c.discount.code,i.properties.orderId=c.order_number,i.properties.shipping=c.shipping_rate.price,i.properties.subtotal_price=c.subtotal_price,i.properties.total_price=c.total_price,i.properties.quantity=s,i.properties.event="Completed Order",r("__hrv_tracked_start_checkout")==c.token?t("__hrv_tracked_start_checkout","",129600):i.properties.cartToken=!0;var p={purchase:a.checkout};(null===(o=null==i?void 0:i.properties)||void 0===o?void 0:o.cartToken)||(b("Purchase"),e.send("Purchase",p))}}(e,C,P);break;case"checkout":!function(e,n,i){var o,a=n.meta.cart,c=n.meta.page;if(a&&c){var u=[];a.products.forEach((function(e){var t={id:e.productId,variantId:e.variantId,name:e.name,variant:e.variant,category:"",quantity:e.quantity,price:e.price,sku:e.sku,vendor:e.vendor,type:e.type,currency:n.meta.currency};i.products.push(t),0==u.includes(e.productId)&&u.push(e.productId)})),i.properties.arrProductId=u,i.properties.quantity=a.item_count,i.properties.total_price=a.total_price/100,i.properties.event="Viewed Checkout",r("__hrv_tracked_start_checkout")!=c.resourceId||""==r("__hrv_tracked_start_checkout")||null==r("__hrv_tracked_start_checkout")||"undefined"==r("__hrv_tracked_start_checkout")?t("__hrv_tracked_start_checkout",c.resourceId,129600):i.properties.cartToken=!0}var s={cart:n.meta.cart};(null===(o=null==i?void 0:i.properties)||void 0===o?void 0:o.cartToken)||(b("InitiateCheckout"),e.send("InitiateCheckout",s))}(e,C,P)}C.ga&&function(e,t,n){if(t.AutoTrack&&t.ga){var r=window.ga;r&&n&&n.options_GA.enhancedEcommerce&&(n.options_GA.doubleClick&&r("require","displayfeatures"),n.options_GA.enhancedLinkAttribution&&r("require","linkid"),n.options_GA.anonymizeIp&&r("set","anonymizeIp",n.options_GA.anonymizeIp),n.options_GA.enhancedEcommerce&&E(t,n))}}(0,C,P),C.ga4&&function(e,t,n){if(t.AutoTrack&&t.ga4){var r=window.gtag;r&&n&&n.options_GA.enhancedEcommercev4&&(n.options_GA.doubleClick&&r("require","displayfeatures"),n.options_GA.enhancedLinkAttribution&&r("require","linkid"),n.options_GA.anonymizeIp&&r("set","anonymizeIp",n.options_GA.anonymizeIp),n.options_GA.enhancedEcommercev4&&S(t,n))}}(0,C,P),C.fb&&function(e,t,n){if(t.AutoTrack&&t.fb){var r=window.fbq;r&&n&&("product"==n.pageType?r("track","ViewContent",{content_ids:[n.properties.id],content_name:n.properties.name,content_type:"product_group",value:n.properties.price,currency:n.properties.currency}):"searchresults"==n.pageType?r("track","Search",{search_string:n.properties.keySearch}):"thankyou"==n.pageType?(r("track","AddPaymentInfo",{value:n.properties.total_price,currency:n.properties.currency}),r("track","Purchase",{content_ids:n.properties.arrProductId,content_type:"product_group",value:n.properties.subtotal_price,num_items:n.properties.quantity,currency:n.properties.currency,eventID:n.properties.orderId},{eventID:n.properties.orderId})):"checkout"!=n.pageType||n.properties.cartToken||r("track","InitiateCheckout",{content_ids:n.properties.arrProductId,content_type:"product_group",value:n.properties.total_price,num_items:n.properties.quantity,currency:n.properties.currency}))}}(0,C,P),function(e){function t(t){var n=(t=t||window.event).target||t.srcElement;if(n&&(n.getAttribute("action")||n.getAttribute("href"))){if(!e.AutoTrack)return;var r=window.ga;r&&r((function(e){var t=e.get("linkerParam");document.cookie="_haravan_ga="+t+"; path=/"}))}}A(window,"load",(function(){for(var e=0;e<document.forms.length;e++){var n=document.forms[e].getAttribute("action");n&&n.indexOf("/cart")>=0&&A(document.forms[e],"submit",t)}for(e=0;e<document.links.length;e++){var r=document.links[e].getAttribute("href");r&&r.indexOf("/checkout")>=0&&A(document.links[e],"click",t)}}))}(C),function(e,t,n){var r,i,o;i="load",o=function(){var r=window.jQuery||window.$;r&&r(document).ajaxSuccess((function(r,i,o){return function(e,t,n,r,i,o){if(null!=n&&-1!=n.url.indexOf("/cart/add")){if(null!=t&&t.responseJSON){var a=t.responseJSON,c="",u=function(e){for(var t=e.split("&"),n=0;n<t.length;n++){var r=t[n].split("=");if("quantity"===r[0])return parseInt(r[1])}return 1}(n.data);a.variant_options.forEach((function(e){c=c+e+" / "})),r.pageType="ajaxCart";var s=r.properties;s.id=a.product_id,s.variantId=a.variant_id,s.name=a.title+" - "+c.slice(0,-3),s.variant=c.slice(0,-3),s.category="",s.quantity=u,s.price=a.price/100,s.sku=a.sku,s.vendor=a.vendor,s.type="",s.event="Added Product",T(i,r),E(i,r),S(i,r),o.track("AddToCart",r.properties)}}else(null!=n&&-1!=n.url.indexOf("/cart/update")||null!=n&&-1!=n.url.indexOf("/cart/change")||null!=n&&-1!=n.url.indexOf("/cart/clear"))&&null!=t&&t.responseJSON&&(a=t.responseJSON,r.pageType="ajaxUpdateCart",a&&(a.items&&a.items.length>0&&a.items.forEach((function(e){e.line_price=e.line_price/100,e.line_price_orginal=e.line_price_orginal/100,e.price=e.price/100,e.price_original=e.price_original/100})),a.total_price=a.total_price/100),r.carts=a,T(i,r),S(i,r),o.track("UpdateToCart",r.carts))}(0,i,o,n,t,e)}))},(r=window).addEventListener?r.addEventListener(i,o):r.attachEvent&&r.attachEvent("onload",o)}(e,C,P)}}(e)}var x=function(){return x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},x.apply(this,arguments)};var j,q,R,U,D=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},B=function(e){if("loading"===document.readyState)return"loading";var t=D();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},N=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},G=function(e,t){var n="";try{for(;e&&9!==e.nodeType;){var r=e,i=r.id?"#"+r.id:N(r)+(r.className&&r.className.length?"."+r.className.replace(/\s+/g,"."):"");if(n.length+i.length>(t||100)-1)return n||i;if(n=n?i+">"+n:i,r.id)break;e=r.parentNode}}catch(e){}return n},V=-1,M=function(){return V},F=function(e){addEventListener("pageshow",(function(t){t.persisted&&(V=t.timeStamp,e(t))}),!0)},z=function(){var e=D();return e&&e.activationStart||0},H=function(e,t){var n=D(),r="navigate";return M()>=0?r="back-forward-cache":n&&(r=document.prerendering||z()>0?"prerender":document.wasDiscarded?"restore":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},J=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},$=function(e,t,n,r){var i,o;return function(a){t.value>=0&&(a||r)&&((o=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=o,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},Q=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},X=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},K=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},W=-1,Y=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Z=function(e){"hidden"===document.visibilityState&&W>-1&&(W="visibilitychange"===e.type?e.timeStamp:0,te())},ee=function(){addEventListener("visibilitychange",Z,!0),addEventListener("prerenderingchange",Z,!0)},te=function(){removeEventListener("visibilitychange",Z,!0),removeEventListener("prerenderingchange",Z,!0)},ne=function(){return W<0&&(W=Y(),ee(),F((function(){setTimeout((function(){W=Y(),ee()}),0)}))),{get firstHiddenTime(){return W}}},re=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},ie=function(e,t){t=t||{},re((function(){var n,r=[1800,3e3],i=ne(),o=H("FCP"),a=J("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(a.disconnect(),e.startTime<i.firstHiddenTime&&(o.value=Math.max(e.startTime-z(),0),o.entries.push(e),n(!0)))}))}));a&&(n=$(e,o,r,t.reportAllChanges),F((function(i){o=H("FCP"),n=$(e,o,r,t.reportAllChanges),Q((function(){o.value=performance.now()-i.timeStamp,n(!0)}))})))}))},oe={passive:!0,capture:!0},ae=new Date,ce=function(e,t){j||(j=t,q=e,R=new Date,pe(removeEventListener),ue())},ue=function(){if(q>=0&&q<R-ae){var e={entryType:"first-input",name:j.type,target:j.target,cancelable:j.cancelable,startTime:j.timeStamp,processingStart:j.timeStamp+q};U.forEach((function(t){t(e)})),U=[]}},se=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){ce(e,t),i()},r=function(){i()},i=function(){removeEventListener("pointerup",n,oe),removeEventListener("pointercancel",r,oe)};addEventListener("pointerup",n,oe),addEventListener("pointercancel",r,oe)}(t,e):ce(t,e)}},pe=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,se,oe)}))},de=function(e,t){t=t||{},re((function(){var n,r=[100,300],i=ne(),o=H("FID"),a=function(e){e.startTime<i.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),n(!0))},c=function(e){e.forEach(a)},u=J("first-input",c);n=$(e,o,r,t.reportAllChanges),u&&X(K((function(){c(u.takeRecords()),u.disconnect()}))),u&&F((function(){var i;o=H("FID"),n=$(e,o,r,t.reportAllChanges),U=[],q=-1,j=null,pe(addEventListener),i=a,U.push(i),ue()}))}))},le={},ve=(window,new Set);function fe(e){var t,n=e.name,r=e.value,i=e.rating,o=e.attribution;e.entries,"good"!==i&&(console.debug(e),"LCP"===n&&(t={elm:null==o?void 0:o.element,url:null==o?void 0:o.url})),ve.add({name:n,value:r,rating:i,attribution:t})}var he=function(){return he=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},he.apply(this,arguments)},me=window,ge=function(e,t){"AddToCart"!==e&&"UpdateToCart"!==e||b("AddToCart");var n={event:e,properties:he({},t)};ye("track",n)},ye=function(e,n){var r=me.hrvBeacon,i=g(),o=function(){var e=w(),n=[];if(e.events){var r=e.events.filter((function(e){return e.state==y.track}));r.forEach((function(e){e.state=y.sent,n.push(e.event)})),r.length>0&&t(_,e,30)}return{session:e,events:n}}(),a=o.session,c=o.events,u=he({timestamp:(new Date).getTime(),orgId:r.token,userId:r.userId,anonymousId:r.userAgent.anonymous_id,sessionId:a.sessionId,context:{location:location.href,pageLoadId:r.pageLoadId,userAgent:{browser:r.userAgent.browser,mobile:r.userAgent.mobile,raw:r.userAgent.raw}}},n);i.properties&&0!==Object.keys(i.properties).length&&(u.identities=i.properties),c&&c.length>0&&(u.sessionEvents=c),document.referrer&&(u.context.referrer=document.referrer);var s=he({type:e},u);!function(e,t){var n=JSON.stringify(t);if(!navigator.sendBeacon||!navigator.sendBeacon(e,n)){var r=new XMLHttpRequest;r.open("POST",e),r.send(n)}}("".concat(r.host,"/analytics"),s)},_e=function(e){m(e)};try{var be=document.currentScript;!function(e,t,n){if(!me.hrvBeacon){var r={browserName:(s=navigator.userAgent).match(/chrome|chromium|crios/i)?"chrome":s.match(/firefox|fxios/i)?"firefox":s.match(/safari/i)?"safari":s.match(/opr\//i)?"opera":s.match(/edg/i)?"edge":s.match(/fbios|fban/i)?"facebook":s.match(/zalo/i)?"zalo":"Unknown",isMobile:/Mobile/i.test(navigator.userAgent),userAgent:s},i=r.browserName,o=r.isMobile,a=r.userAgent,c={host:n,token:e,pageLoadId:t,userAgent:{anonymous_id:g().id,browser:i,mobile:o,raw:a},send:ye,track:ge,identity:_e};me.hrvBeacon=c;var u=me.hrvBeacon;(function(e){var t={},n=e.send;e.send=function(e,n){t.properties=x({eventName:e},n)},O(e),e.send=n,e.send("page",t)})(u),function(e){addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&function(e){if(ve.size>0){var t={};ve.forEach((function(e){var n=e.name;delete e.name,t[n]=e})),e.send("webVitals",{webVitals:t}),ve.clear()}}(e)})),function(e,t){ie((function(t){!function(e){if(e.entries.length){var t=D(),n=e.entries[e.entries.length-1];if(t){var r=t.activationStart||0,i=Math.max(0,t.responseStart-r);return void(e.attribution={timeToFirstByte:i,firstByteToFCP:e.value-i,loadState:B(e.entries[0].startTime),navigationEntry:t,fcpEntry:n})}}e.attribution={timeToFirstByte:0,firstByteToFCP:e.value,loadState:B(M())}}(t),e(t)}),void 0)}(fe),function(e,t){!function(e,t){t=t||{},ie(K((function(){var n,r=[.1,.25],i=H("CLS",0),o=0,a=[],c=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=a[0],n=a[a.length-1];o&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,a.push(e)):(o=e.value,a=[e])}})),o>i.value&&(i.value=o,i.entries=a,n())},u=J("layout-shift",c);u&&(n=$(e,i,r,t.reportAllChanges),X((function(){c(u.takeRecords()),n(!0)})),F((function(){o=0,i=H("CLS",0),n=$(e,i,r,t.reportAllChanges),Q((function(){return n()}))})),setTimeout(n,0))})))}((function(t){!function(e){if(e.entries.length){var t=e.entries.reduce((function(e,t){return e&&e.value>t.value?e:t}));if(t&&t.sources&&t.sources.length){var n=(r=t.sources).find((function(e){return e.node&&1===e.node.nodeType}))||r[0];if(n)return void(e.attribution={largestShiftTarget:G(n.node),largestShiftTime:t.startTime,largestShiftValue:t.value,largestShiftSource:n,largestShiftEntry:t,loadState:B(t.startTime)})}}var r;e.attribution={}}(t),e(t)}),void 0)}(fe),function(e,t){de((function(t){!function(e){var t=e.entries[0];e.attribution={eventTarget:G(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:B(t.startTime)}}(t),e(t)}),void 0)}(fe),function(e,t){!function(e,t){t=t||{},re((function(){var n,r=[2500,4e3],i=ne(),o=H("LCP"),a=function(e){var t=e[e.length-1];if(t){var r=Math.max(t.startTime-z(),0);r<i.firstHiddenTime&&(o.value=r,o.entries=[t],n())}},c=J("largest-contentful-paint",a);if(c){n=$(e,o,r,t.reportAllChanges);var u=K((function(){le[o.id]||(a(c.takeRecords()),c.disconnect(),le[o.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,u,!0)})),X(u),F((function(i){o=H("LCP"),n=$(e,o,r,t.reportAllChanges),Q((function(){o.value=performance.now()-i.timeStamp,le[o.id]=!0,n(!0)}))}))}}))}((function(t){!function(e){if(e.entries.length){var t=D();if(t){var n=t.activationStart||0,r=e.entries[e.entries.length-1],i=r.url&&performance.getEntriesByType("resource").filter((function(e){return e.name===r.url}))[0],o=Math.max(0,t.responseStart-n),a=Math.max(o,i?(i.requestStart||i.startTime)-n:0),c=Math.max(a,i?i.responseEnd-n:0),u=Math.max(c,r?r.startTime-n:0),s={element:G(r.element),timeToFirstByte:o,resourceLoadDelay:a-o,resourceLoadTime:c-a,elementRenderDelay:u-c,navigationEntry:t,lcpEntry:r};return r.url&&(s.url=r.url),i&&(s.lcpResourceEntry=i),void(e.attribution=s)}}e.attribution={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadTime:0,elementRenderDelay:e.value}}(t),e(t)}),void 0)}(fe)}(u)}var s}(parseInt(be.getAttribute("hrv-beacon-t")),h(),new URL(be.src).origin)}catch(j){console.log(j)}}()}();